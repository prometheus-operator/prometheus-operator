version: 1
timeout: "1m"

explicitLocalValidators: true

validators:
  # docs.github.com returns 403 if not in browser. Cannot curl as well.
  - regex: 'docs\.github\.com'
    type: "ignore"
  # Cloudflare protection, so returns 503 if not in browser. Cannot curl as well.
  - regex: 'wise\.com'
    type: "ignore"
  # Adopters example link.
  - regex: "our-link"
    type: "ignore"
  # 301 errors even when curl-ed.
  - regex: "envoyproxy"
    type: "ignore"
  # Ignore release links.
  - regex: 'https:\/\/github\.com\/prometheus-operator\/prometheus-operator\/releases'
    type: "ignore"
  # Ignore GitHub container packages link as it returns 404 in curl, but works in browser
  - regex: 'https://github.com/prometheus-operator/prometheus-operator/pkgs/container/prometheus-operator'
    type: "ignore"
  # Ignore links to /img/ because the generated content will resolve them correctly.
  - regex: '/img/.+'
    type: ignore
  # Ignore anchor links pointing to the API documentation which are HTML <a> tags and not supported by mdox.
  - regex: 'api\.md#monitoring\.coreos\.com/v1\.(BasicAuth|PrometheusSpec|StorageSpec)$'
    type: ignore
